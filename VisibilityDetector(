VisibilityDetector(
                        key: Key(index.toString()),
                        onVisibilityChanged: (visibilityInfo) {
                          var visiblePercentage =
                              visibilityInfo.visibleFraction * 100;
                              print(
                                'before Visible Detector  $index $visiblePercentage $isVideo');
                          if (visiblePercentage > 74) {
                            isVideo.value = result[index]
                                .pic!
                                .where((e) =>
                                    e.file!
                                        .split('.')
                                        .last
                                        .toLowerCase()
                                        .extentionfile() ==
                                    'video')
                                .isNotEmpty;
                              isPlaying.value = true;
                            print(
                                'after Visible Detector  $index $visiblePercentage $isVideo');
                          }else{
                            isPlaying.value = false;
                          }
                        },
                        child: ValueListenableBuilder<bool>(valueListenable: isVideo, 
                        builder: (context, value, child) {
                          print('isvideo ${value}');
                         return  isVideo.value
                            ? VideoPlayerWidget(
                                datas: result,
                                index: index,
                                isFullScreen: false,
                                play: isPlaying.value,
                                resumed: false,
                              )
                            : PicturePlayerWidget(
                                data: result[index],
                                index: index,
                                play: isPlaying.value,
                                isFullScreen: false,
                              );
                        },)
                      );